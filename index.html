<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>

  </head>
  <body>
    <canvas id="snake" width="600" height="600" style="border:1px solid black;"></canvas>
    <script type="text/javascript">
      window.onload = function (e) {
        var c = document.getElementById("snake");
        var ctx = c.getContext("2d");
        document.addEventListener('keypress', input);
        //0,0 = Top Left    //Width,Height = Bottom Right
        var width = c.width;
        var height = c.height;

        var tick = setInterval(draw, 500);

        var snakePos = [[0,0]];
        var snakeLength = 5;
        
        function input(event) {
          var e = event.key
          //On key event change the direction of the snake
          switch (e) {
            case 'w':
              direction = 'n';
              break;
            case 'a':
              direction = 'w';
              break;
            case 's':
              direction = 's';
              break;
            case 'd':
              direction = 'e';
              break;
            default:

          }
          return direction;
        }
        function directionNum(dir,pos) {
          switch (dir) {
            case 'n':
            //North
            if (position[0] > 0) {
              position = [position[0]-25,position[1]]
            }
            else {
              position = [height,position[1]]
            }
              break;
            case 'e':
            //East
            if (position[1] < width) {
              position = [position[0],position[1]+25]
            }
            else {
              position = [position[0],0]
            }
              break;
            case 's':
            //South
            if (position[0] < height) {
              position = [position[0]+25,position[1]]
            }
            else {
              position = [0,position[1]]
            }
              break;
            case 'w':
            //West
            if (position[1]> 0) {
              position = [position[0],position[1]-25]
            }
            else {
              position = [position[0],width]
            }
              break;
          }
          return pos;
        }

        var direction = 'e';
        var position = [0,0];
        //Draw function
        function draw() {
          var pos = directionNum(direction,position)
          snakePos.unshift(pos);
          snakePos.length = snakeLength;
          ctx.clearRect(0, 0, width, height);
          //x , y
          ctx.moveTo(0,0);
          //x , y , rec.width, rec.height

          snakePos.forEach((item, i) => {
            ctx.fillRect(item[1], item[0], 20, 20)
          });

          ctx.stroke();
        }

      }

    </script>
  </body>
</html>
